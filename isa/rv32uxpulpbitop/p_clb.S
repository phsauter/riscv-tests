# See LICENSE for license details.

#*****************************************************************************
# p.clb
#-----------------------------------------------------------------------------
#
# Test p.clb instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_R_OP( 2, p.clb, 0, 0b00000000000000000000000000000000 )
  TEST_R_OP( 3, p.clb, 31, 0b00000000000000000000000000000001 )
  TEST_R_OP( 4, p.clb, 1, 0b10000000000000000000000000000000 )
  TEST_R_OP( 5, p.clb, 32, 0b11111111111111111111111111111111 )
  TEST_R_OP( 6, p.clb, 1, 0b01111111111111111111111111111111 )
  TEST_R_OP( 7, p.clb, 31, 0b11111111111111111111111111111110 )
  TEST_R_OP( 8, p.clb, 1, 0b01011101011101001000100101101111 )
  TEST_R_OP( 9, p.clb, 1, 0b10011110110101100000101010100101 )
  TEST_R_OP( 10, p.clb, 3, 0b00010100101001010100000001101101 )
  TEST_R_OP( 11, p.clb, 2, 0b00101010000110111100111000000111 )
  TEST_R_OP( 12, p.clb, 4, 0b00001001011010001100101111001001 )
  TEST_R_OP( 13, p.clb, 1, 0b10110001111101101010001101000010 )
  TEST_R_OP( 14, p.clb, 1, 0b01101000100110100111110111001110 )
  TEST_R_OP( 15, p.clb, 1, 0b10011010001011001011110000010001 )
  TEST_R_OP( 16, p.clb, 2, 0b00101010001001111100111001110000 )
  TEST_R_OP( 17, p.clb, 3, 0b11101101011000010011100110000001 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_R_SRC1_EQ_DEST( 18, p.clb, 2, 0b11010101111100011011001111011010 )
  TEST_R_SRC1_EQ_DEST( 19, p.clb, 5, 0b11111000111101101100001000110101 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_R_DEST_BYPASS( 20, 0, p.clb, 3, 0b11101111101100000010000111110100 )
  TEST_R_DEST_BYPASS( 21, 1, p.clb, 2, 0b11001100000101001010000000000111 )
  TEST_R_DEST_BYPASS( 22, 2, p.clb, 1, 0b01101100101111110101010011111101 )
  TEST_R_DEST_BYPASS( 23, 0, p.clb, 2, 0b00101100110111010011011011101100 )
  TEST_R_DEST_BYPASS( 24, 1, p.clb, 1, 0b01111011100101000110100011001011 )
  TEST_R_DEST_BYPASS( 25, 2, p.clb, 4, 0b00001100011000111000101001010010 )
  

  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END

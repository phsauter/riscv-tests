# See LICENSE for license details.

#*****************************************************************************
# p.fl1
#-----------------------------------------------------------------------------
#
# Test p.fl1 instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_R_OP( 2, p.fl1, 32, 0b00000000000000000000000000000000 )
  TEST_R_OP( 3, p.fl1, 0, 0b00000000000000000000000000000001 )
  TEST_R_OP( 4, p.fl1, 31, 0b10000000000000000000000000000000 )
  TEST_R_OP( 5, p.fl1, 31, 0b11111111111111111111111111111111 )
  TEST_R_OP( 6, p.fl1, 30, 0b01111111111111111111111111111111 )
  TEST_R_OP( 7, p.fl1, 31, 0b11111111111111111111111111111110 )
  TEST_R_OP( 8, p.fl1, 30, 0b01111011000010001110010010110110 )
  TEST_R_OP( 9, p.fl1, 30, 0b01100000111011101000010100001010 )
  TEST_R_OP( 10, p.fl1, 30, 0b01110100011011011111011001010100 )
  TEST_R_OP( 11, p.fl1, 31, 0b11011101111110101000011110101100 )
  TEST_R_OP( 12, p.fl1, 30, 0b01011110010011011001101100000000 )
  TEST_R_OP( 13, p.fl1, 30, 0b01101101011110101000011011010001 )
  TEST_R_OP( 14, p.fl1, 29, 0b00101011111110101100010100111111 )
  TEST_R_OP( 15, p.fl1, 31, 0b11000101000101000001001110011000 )
  TEST_R_OP( 16, p.fl1, 31, 0b11111001110000111010000000001100 )
  TEST_R_OP( 17, p.fl1, 28, 0b00010100010011101111110001110100 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_R_SRC1_EQ_DEST( 18, p.fl1, 28, 0b00010001100100111101011011000011 )
  TEST_R_SRC1_EQ_DEST( 19, p.fl1, 31, 0b10011100111111110011101100101011 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_R_DEST_BYPASS( 20, 0, p.fl1, 31, 0b10100010000001110111101010011011 )
  TEST_R_DEST_BYPASS( 21, 1, p.fl1, 28, 0b00011101100111001001100111100001 )
  TEST_R_DEST_BYPASS( 22, 2, p.fl1, 30, 0b01000110001000010100111000001011 )
  TEST_R_DEST_BYPASS( 23, 0, p.fl1, 31, 0b11000110011010000000100111000010 )
  TEST_R_DEST_BYPASS( 24, 1, p.fl1, 28, 0b00011111110010100111010001011001 )
  TEST_R_DEST_BYPASS( 25, 2, p.fl1, 30, 0b01110101110010001001110010001110 )
  

  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
